SYMBOLS {
	__LOADADDR__: type=import;
}

MEMORY {
       LOADADDR: file = %O, start = %S-2, size=2;
       FREEMEM: file = "", start = $0200, size = $0200;
       LOWMEM: file = %O, start = $0400, size = $0c00, fill = yes, fillval = $52;
       SOUNDMEM: file = %O, start = $1000, size = $2000, fill = yes, fillval = $00;
       DATAMEM: file = %O, start = $3000, size = $a000, fill = yes, fillval = $00;
       HIMEM: file = %O, start = $d000, size = $2f40, fill = yes, fillval = $00;
       ZEROPAGEMEM: file = "", start = $f7, size = 7;
}

SEGMENTS {
	 LOADADDR: load = LOADADDR, type = ro;
	 STARTUP: load = LOWMEM, type = ro, optional = yes;
	 CODE: load = LOWMEM, type = rw;
	 RODATA: load = SOUNDMEM, type = ro;
	 DATA: load = DATAMEM, type = rw;
	 BSS: load = FREEMEM, type = bss, define = yes;
	 IMAGE: load = HIMEM, type = rw, optional = yes;
	 ZEROPAGE: load = ZEROPAGEMEM, type=zp;
}

FILES {
      %O: format = bin;
}